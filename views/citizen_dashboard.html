<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Request</title>
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="icon" type="image/png" href="/images/logo.png">
    <link rel="stylesheet" href="/css/rescuer_dashboard.css">
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="/css/admin_dashboard.css">
    <link rel="stylesheet" href="/css/map.css"/>
    <link rel="stylesheet" href="/css/rescuerMap.css">
    <link rel="stylesheet" href="/css/citizen_dashboard.css">
    <script src="/js/admin_dashboard.js"></script> <!-- Include admin_dashboard.js -->
    <script src="/js/citizen_dashboard.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>
</head>
<body>

<header>
    <h1>Citizen Dashboard</h1>
    <nav>
        <div class="nav-container">
            <ul>
                <li><a href="/citizen_dashboard.html">Requests</a></li>
                <li><a href="/citizen_dashboard/citizen_announcements.html">Offers</a></li>
                <li><a href="/citizen_dashboard/citizen_settings.html">Edit profile</a></li>
            </ul>
        </div>
        <button id="logoutButton" class="logout-button">Logout</button>
    </nav>
</header>

<main>
    <div class="form-container">
        <h1>Create a New Request</h1>
        <form id="requestOfferForm"> <!-- No action attribute -->

            <div class="form-group">
                <label for="categorySelect">Select Category</label>
                <select id="categorySelect">
                    <option value="">-- Select a Category --</option>
                    <!-- Categories will be dynamically populated here -->
                </select>
            </div>

            <div class="form-group">
                <label for="itemSelect">Select Item</label>
                <select id="itemSelect">
                    <option value="">-- Select an Item --</option>
                    <!-- Items will be dynamically populated here based on category or search -->
                </select>
            </div>

            <div class="form-group">
                <label for="itemQuantity">Number of People</label>
                <input type="number" id="itemQuantity" required min="1">
            </div>

            <!-- New fields for Latitude and Longitude -->
            <div class="form-group">
                <label for="locationSelect">Location:</label>
                <select id="locationSelect" name="locationSelect" required>
                    <option value="registered">Use My Registered Location</option>
                    <option value="new">Enter New Location</option>
                </select>
            </div>

            <div id="newAddressField" style="display: none;">
                <label for="newAddress">New Address:</label>
                <input type="text" id="newAddress" name="newAddress">
            </div>

            <div class="form-group">
                <label for="itemSearch">Suggestion</label>
                <div class="suggestion-container">
                    <input type="text" id="itemSearch" placeholder="Search for an item..." autocomplete="off">
                    <ul id="autocomplete-list" class="autocomplete-items"></ul>
                </div>
            </div>

            <button type="submit" id="submitButton">Submit</button> <!-- Button type is submit -->
        </form>
        <div id="requestOfferMessage"></div>

        <!-- My Tasks Table -->
        <h2>My Requests:</h2>
        <table>
            <thead>
            <tr>
                <th>ID</th>
                <th>Item Name</th>
                <th>Quantity</th>
                <th>Date Registered</th>
                <th>Date Collected</th>
                <th>Status</th>
            </tr>
            </thead>
            <tbody id="tasksTableBody">
            <!-- Tasks will be dynamically populated here -->
            </tbody>
        </table>
    </div>
</main>
</body>
</html>
